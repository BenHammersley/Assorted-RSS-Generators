#!/usr/bin/perl -wuse strict;use SOAP::Lite;use XML::RSS;use CGI qw(:standard);use HTML::Entities ();# Set up the query term from the cgi inputmy $query = param("q");my $key   = param("k") || "I2ZLf3I0K07Vf1zfOeEUf/P7r4r6t0bR";
# Initialise the SOAP interfacemy $service = SOAP::Lite -> service('http://api.google.com/GoogleSearch.wsdl');# Run the searchmy $result = $service -> doGoogleSearch ($key, $query, 0, 10, "false", "", "false","", "latin1", "latin1");# Create the new RSS objectmy $rss = new XML::RSS (version => '0.91');# Add in the RSS channel data$rss->channel(  title  => "Google Search for $query",                link => "http://www.google.com/search?q=$query",                description => "Google search for $query",		        language => "en",		      );# Create each of the itemsforeach my $element (@{$result->{'resultElements'}}) {        $rss->add_item(                title   => HTML::Entities::encode($element->{'title'}),                link    => HTML::Entities::encode($element->{'URL'})                );        }# print out the RSSprint header('application/xml+rss'), $rss->as_string;